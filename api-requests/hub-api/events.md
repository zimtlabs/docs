---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# Events

## Events model

{% tabs %}
{% tab title="Event" %}
```json
{
   "id": "string",
   "proof": "string",
   "object": "<Object>", // imutable
   "receipt": "<ReceiptObject>",
}
```

<table><thead><tr><th width="105">Name</th><th width="172">Type</th><th width="82">Required</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>string</td><td>true</td><td>The unique ID of the event.</td></tr><tr><td>proof</td><td>string</td><td>true</td><td>A crypto-secure proof of the event’s authenticity and ownership.</td></tr><tr><td>object</td><td><strong>&#x3C;Object></strong></td><td>true</td><td>The immutable data of the event, including its type, name, file hash, and other metadata.</td></tr><tr><td>receipt</td><td><strong>&#x3C;ReceiptObject></strong></td><td>/</td><td>A receipt indicating that the event has been received by the organization and its ownership has been established. Generated by the system</td></tr></tbody></table>
{% endtab %}

{% tab title="Object" %}
**Object data`<Object>`**

```json
{
  "meta": "<MetaObject>", // required
  "data": "<ObjectData>", // required
  "signature":"string",
}
```

<table><thead><tr><th width="120">Name</th><th width="146.68421052631578">Type</th><th width="100">Required</th><th>Description</th></tr></thead><tbody><tr><td>meta</td><td><strong>&#x3C;MetaObject></strong></td><td>true</td><td>The metadata for the event, including the timestamp of its creation and the hash of its data.</td></tr><tr><td>data</td><td><strong>&#x3C;ObjectData></strong></td><td>true</td><td>The immutable data of the event, including its type, name, file hash, and other metadata.</td></tr><tr><td>signature</td><td>string</td><td>false</td><td>A signature that verifies the authenticity of the event data.</td></tr></tbody></table>

###

#### Meta object `<MetaObject>`

<table><thead><tr><th width="140">Name</th><th width="108.0985401459854">Type</th><th width="109">Required</th><th></th></tr></thead><tbody><tr><td>created_by</td><td>string</td><td>true</td><td>The address of the creator of the event.</td></tr><tr><td>created_at</td><td>number</td><td>true</td><td>The timestamp of the event’s creation.</td></tr><tr><td>data_hash</td><td>string</td><td>true</td><td>The hash of the event’s data.</td></tr></tbody></table>
{% endtab %}

{% tab title="ObjectData" %}
#### **Data ( immutable ) `<ObjectData>`**

```json
{
   "type":"string", // required
   "name":"string", // required
   "description":"string",
   "asset_id": "string", // 
   "documents": "<DocumentArray>",
   "identifiers": "<IdentifiersObject>",
   "location": "<LocationObject>"
   "properties":"<PropertiesObject>",
}
```

<table><thead><tr><th width="149">Name</th><th width="198.1548387096774">Type</th><th width="79">Required</th><th>Description</th></tr></thead><tbody><tr><td>type</td><td>string</td><td>true</td><td>The type of the event, formatted as a dot-separated string.</td></tr><tr><td>asset_id</td><td>string</td><td>false</td><td>Id of an asset this event is attached to.</td></tr><tr><td>name</td><td>string</td><td>false</td><td>The name of the event.</td></tr><tr><td>description</td><td>string</td><td>false</td><td>A description of the event.</td></tr><tr><td>documents</td><td><strong>Array &#x3C;Document></strong></td><td>false</td><td>Array of documents attached to this event.</td></tr><tr><td>identifiers</td><td>Object</td><td>false</td><td>Identifiers associated with the document.</td></tr><tr><td>location</td><td><strong>&#x3C;LocationObject></strong></td><td>false</td><td>Contains location properties, coordinates, country…</td></tr><tr><td>properties</td><td><strong>&#x3C;PropertiesObject></strong></td><td>false</td><td>Properties associated with the document.</td></tr></tbody></table>
{% endtab %}

{% tab title="Receipt" %}
#### Receipt object **`<ReceiptObject>`**

```json
{
  "id_hash":"string", 
  "received_by":"string", 
  "received_at":"number",
  "organization_id":"string",
  "account_id":"string" // required
}
```

<table><thead><tr><th width="171.58844133099822">Name</th><th width="102">Type</th><th width="99">Required</th><th></th></tr></thead><tbody><tr><td>id_hash</td><td>string</td><td>true</td><td>The hash of the document’s ID.</td></tr><tr><td>received_by</td><td>string</td><td>true</td><td>The address of the account that received the document.</td></tr><tr><td>received_at</td><td>number</td><td>true</td><td>The timestamp of the document’s receipt.</td></tr><tr><td>organization_id</td><td>string</td><td>false</td><td>The ID of the organization that received the document.</td></tr><tr><td>account_id</td><td>string</td><td>true</td><td>The ID of the account that received the document.</td></tr></tbody></table>
{% endtab %}

{% tab title="Ownership" %}
**Object ownership `<OwnershipObject>`**

```json
"ownership": {
    "account_id": "0xd42c5c71ea068ea102b18d51fa8eefb7c9b61d1c17b21339ca18d8c8079978f4",
    "short_name": "vlad"
},
```

<table><thead><tr><th width="132">Name</th><th width="97">Type</th><th width="108">Required</th><th></th></tr></thead><tbody><tr><td>account_id</td><td>string</td><td>false</td><td>Document owner’s account id.</td></tr></tbody></table>
{% endtab %}

{% tab title="Meta" %}
```json
{
    "analytics_resolved": true,
    "modified_at": 1678224209
}
```
{% endtab %}
{% endtabs %}

***

{% tabs %}
{% tab title="Documents" %}
**Documents array `<Documents>`**

```json
[
  {
    "id":"string",
    "url":"string",
    "type":"string",
    "properties":"object"
  }
]
```

Document id or url are required

<table><thead><tr><th width="128">Name</th><th width="96">Type</th><th width="92.78277153558054">Required</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>string</td><td>true</td><td>The ID of the document.</td></tr><tr><td>url</td><td>string</td><td>true</td><td>The URL of the document.</td></tr><tr><td>type</td><td>string</td><td>false</td><td>The type of the document. (image/jpg, image/png)</td></tr><tr><td>properties</td><td>string</td><td>false</td><td>Properties associated with the document. (size, resolution, alt, title)</td></tr></tbody></table>
{% endtab %}

{% tab title="Location" %}
**Location object `<LocationObject>`**

```json
{
   "type":"string",
   "geometry":{
     "type":"string",
     "coordinates":[
        "number",
        "number"
     ]
   },
   "country": "string",
   "region": "string",
   "city": "string",
   "zip": "string",
   "street": "string",
   "properties": "object"
}
```

<table><thead><tr><th width="136">Name</th><th width="187">Type</th><th width="109.15136876006443">Required</th><th></th></tr></thead><tbody><tr><td>type</td><td>string</td><td>true</td><td>The type of location.</td></tr><tr><td>geometry</td><td><strong>&#x3C;GeometryObject></strong></td><td>true</td><td>The geometry of the location.</td></tr><tr><td>country</td><td>string</td><td>false</td><td>The country of the location.</td></tr><tr><td>region</td><td>string</td><td>false</td><td>The region of the location.</td></tr><tr><td>city</td><td>string</td><td>false</td><td>The city of the location.</td></tr><tr><td>zip</td><td>string</td><td>false</td><td>The zip code of the location.</td></tr><tr><td>street</td><td>string</td><td>false</td><td>The street address of the location.</td></tr><tr><td>properties</td><td>string</td><td>false</td><td>Properties associated with the location.</td></tr></tbody></table>

**Geometry object** **`<GeometryObject>`**

<table><thead><tr><th>Name</th><th>Type</th><th width="113">Required</th><th></th></tr></thead><tbody><tr><td>type</td><td>string</td><td>true</td><td>The type of the geometry.</td></tr><tr><td>coordinates</td><td>&#x3C;Array> [lat, lng]</td><td>true</td><td>The coordinates of the geometry.</td></tr></tbody></table>
{% endtab %}

{% tab title="Properties" %}
Properties are stored in a key:value format, where the value can be any type.

**`<Properties>`**

```json
{
    "id":"0x123123",
    "ids":["0x123123", "0x123123", "0x123123"],
    "total": 5
    "details": {
        "test": 123
    }
}
```
{% endtab %}

{% tab title="Identifiers" %}
Identifiers are stored in a key:value format, where the value can be an array containing strings or numbers.

**`<Identifiers>`**

```json
{
    "ids":["0x123123"],
    "uid":["0x123123", "0x123123", "0x123123"]
}
```
{% endtab %}
{% endtabs %}

***

## Create new event

{% swagger method="post" path="/events" baseUrl="https://api.zi.mt" summary="" %}
{% swagger-description %}
<mark style="color:red;">

**`AUTHORIZED`**

</mark>
{% endswagger-description %}

{% swagger-parameter in="header" name="Authorized" type="String" required="true" %}
JWT token
{% endswagger-parameter %}

{% swagger-parameter in="body" name="object" type="Object" required="true" %}
Event object
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="Success" %}
```json
{
    "response": {
        "proof": "0xd18d0e2b1c83bc5488a79cfed40646445464910ff5918ae7144757662f44f88e7c15b4212d5833601b3ac44cfda19c983ec02e7fbfa516637b57a08ccbe9eb4e1b",
        "id": "0x1e25aed18c1e4b1ed0d93909bb34badd4aba445f156e4084d47648e59bb64edb",
        "object": {
            "meta": {
                "created_by": "0xF95AEbEdBF3cE792Fdd44697dc9A0fB3Dad47621",
                "created_at": 1677851008608,
                "data_hash": "0x3c8ce80a76259058769641b4a649c2cb4e8e6ad2bf94ab776ddf81777b5e4b00"
            },
            "signature": "0xc4ac18f527bd6d5512771c67bb692c7a524a14f93670fad587904eff8ed6f0ee7654e12dd2f134402180224de948ba6b5f5a0d3a4a0745e4de76478b1c42e7071c",
            "data": {
                "name": "Asset 2",
                "type": "new",
                "description": "description",
                "collection_id": "0x2f30a448090827f0ff960e3f12458d83222fc46003a47832d1a93849f7b14e09",
                "properties": {
                    "a": "1"
                },
                "identifiers": {
                    "b": [
                        "1"
                    ]
                }
            }
        },
        "data": {
            "minted": true,
            "collection_id": "0x2f30a448090827f0ff960e3f12458d83222fc46003a47832d1a93849f7b14e09",
            "description": "description",
            "name": "New asset name",
            "type": "new",
            "status": {
                "mint": true
            },
            "nft": {
                "chain_id": "0x89",
                "chain_name": "Polygon Mainnet",
                "contract_address": "0x59454E1851504453f822B82f08cF3E10C6311892",
                "external_id": "0x1e25aed18c1e4b1ed0d93909bb34badd4aba445f156e4084d47648e59bb64edb",
                "minted_at": 1678102569332,
                "owner_address": "0xF95AEbEdBF3cE792Fdd44697dc9A0fB3Dad47621",
                "token_id": "1",
                "transaction_hash": "0x82bfbe6948ed7ef4eb1c8e8baacec2aacbda6fcabc62a1b544dfb0bbac39d2a0",
                "confirmed": true
            }
        },
        "receipt": {
            "id_hash": "0xa6ccfc9b0b5d58820fe84be3e302c28b017dd4d75cd5da2915f7b35d16542acb",
            "received_by": "0x1f92D0085C9fD2942327Cdd02Ee4392FEC41baBC",
            "received_at": 1677851036042,
            "organization_id": "0x428e47dbf461f34f68cff7bb6d1a84e1849362bcbabc2e3fff231929dd056542",
            "account_id": "0xd42c5c71ea068ea102b18d51fa8eefb7c9b61d1c17b21339ca18d8c8079978f4"
        },
        "ownership": {
            "account_id": "0xd42c5c71ea068ea102b18d51fa8eefb7c9b61d1c17b21339ca18d8c8079978f4",
            "short_name": "vlad"
        },
        "hub_meta": {
            "analytics_resolved": true,
            "modified_at": 1678224209
        }
    },
    "status": "ok"
}
```
{% endswagger-response %}

{% swagger-response status="400: Bad Request" description="Validation error" %}
```json
{
  "status": "error",
  "message": "Validation error",
  "errors": "Invalid properties"
}
```
{% endswagger-response %}

{% swagger-response status="401: Unauthorized" description="Unauthorized request" %}
```json
{
  "status": "error",
  "message": "Unauthorized"
}
```
{% endswagger-response %}
{% endswagger %}

<details>

<summary>Body schema</summary>

```json
{
    "object": {
        "meta": {
            "created_by": "0xfa17fc61Da37fc5EE6cbFb0EB93a0714a1972475",
            "created_at": 1690795006149,
            "data_hash": "0x6ec881ec24275a9ec7e04de91ec7e69e43acd76cf0261410d31c771d14a7b22b"
        },
        "data": {
            "name": "Tokemak",
            "description": "What is Tokemak\r\nTokemak is a decentralized market making platform and a liquidity router that disaggregates traditional liquidity provision and market making for DeFi. It was founded by Carson Cook and launched in 2021.\r\n\r\nHow does Tokemak work\r\nTokemak enables users to both provide liquidity and control where that liquidity goes. Liquidity Providers deposit single-sided assets into individual Token Reactors and/or Genesis Pools (ETH, USDC), and earn yield in the form of TOKE.\r\n\r\nWho governs Tokemak\r\nTOKE token holders own and govern the protocol. They currently take all the 3rd party LP fees paid (revenue).\r\n\r\nTokemak community channels\r\nNone\r\n\r\n",
            "type": "asset.update",
            "properties": {...},
            "identifiers": {...},
            "asset_id": "0xbfc447552015c25aeebe51e97ed3691799dba4486c6bed4d5b6635b08647bb4d"
        },
        "signature": "0xba4e9959002e7e60f08e8b001f5b7dd87a1e172d0fbc636b58446e07ad8045c50a185c958733b99e7de9bd25ea82c3b7901c3fa1aab5af6abc9a9ddc8ac645d91c"
    }
}
```

</details>

<details>

<summary>Body details</summary>

Available event types: <mark style="color:blue;">**`asset.update`**</mark> <mark style="color:orange;">**`asset.replace`**</mark>

* Events with type <mark style="color:blue;">**`asset.update`**</mark> will update only passed keys of the object.data object\
  \
  Keys with value <mark style="color:orange;">**`$unset`**</mark> will be <mark style="color:red;">**removed**</mark> from the asset properties.

<pre class="language-json"><code class="lang-json"><strong>{
</strong>      "data": {
            "name": "test"
            "type": "asset.update",
            "asset_id": "1"
            "properties": { "test": 123, "test1": "$unset" },
      }
}
</code></pre>

* Events with type <mark style="color:orange;">**asset.replace**</mark> will replace entire **data** object from the asset.

```json
{
  "object": {
    "meta": {
      "created_by": "0x8752F61635543a870826D9F4CA20a9D1F3934079",
      "created_at": 1693824091746,
      "data_hash": "0xb56435c4f7b433a93621fb65010b24d400ba35044e5b17ed54ef60dfad899d68"
    },
    "data": {
      "name": "test"
      "type": "asset.update",
      "asset_id": "1"
      "properties": {...},
      "identifiers": {...}
    },
    "signature": "0xca546b0a09cc454fb7586c493c472e922606f28bcc7cdecd7d8294e0634179670ed058e508f8e25823d85ffcb77bbf6b0acfdce99d1cf6395aa5f4b2d034c9f91c"
  }
}
```

</details>

***

## Search events

{% swagger summary="" baseUrl="https://api.zi.mt" path="/events/search" method="post" %}
{% swagger-description %}
<mark style="color:red;">

**AUTHORIZED**

</mark>
{% endswagger-description %}

{% swagger-parameter in="header" name="Authorized" type="String" required="true" %}
JWT token
{% endswagger-parameter %}

{% swagger-parameter in="body" name="query" type="Object" required="true" %}
Events query object
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="Success" %}
```
{
  "response": [
    {
      "proof": "123",
      "id": "15",
      "object": {
        "meta": {
          "created_by": "0x678b3c5090B25b3a63120CF0218750886e37A96E",
          "created_at": 1661175493500,
          "data_hash": "0x1234"
        },
        "data": {
          "type": "zimt.audit.asset.data.update",
          "asset_id": "13",
          "name": "Info - Asset 13",
          "properties": {
            "prop": "567",
            "tags": [
              "tag3",
              "tag4"
            ]
          }
        },
        "signature": "0xe633051fc76ae..."
      },
      "receipt": {
        "id_hash": "0x7d5011f29b8951942756b7cbc3029c0aa7c8248381b14bb6941f102b2d1e63a7",
        "received_by": "0x678b3c5090B25b3a63120CF0218750886e37A96E",
        "received_at": 1661175493500,
        "organization_id": "1",
        "account_id": "12"
      }
    },
    {
      "proof": "123",
      "id": "2",
      "object": {
        "meta": {
          "created_by": "0x4b559f896d4A9c960D3f935A986d88Bc865825a6",
          "timestamp": 1661175493500,
          "data_hash": "0x1234"
        },
        "data": {
          "type": "zimt.audit.asset.data.update",
          "name": "Info - Asset 2",
          "asset_id": "2",
          "properties": {
            "prop": "567",
            "tags": [
              "tag3",
              "tag4"
            ]
          }
        },
        "signature": "0xe633051fc76ae..."
      },
      "receipt": {
        "id_hash": "0x7d5011f29b8951942756b7cbc3029c0aa7c8248381b14bb6941f102b2d1e63a7",
        "received_by": "0x678b3c5090B25b3a63120CF0218750886e37A96E",
        "received_at": 1661175493500,
        "account_id": "2",
        "organization_id": "2"
      }
    },
    {
      "proof": "123",
      "id": "14",
      "object": {
        "meta": {
          "created_by": "0xAEc3b1e33b7e4810421fc1778FEB29365E70C8E8",
          "created_at": 1661175493400,
          "data_hash": "0x1234"
        },
        "data": {
          "type": "sold",
          "asset_id": "1",
          "name": "Sold Event - Asset 1",
          "properties": {
            "prop": "345",
            "tags": [
              "tag2",
              "tag3"
            ]
          }
        },
        "signature": "0xe633051fc76ae..."
      },
      "receipt": {
        "id_hash": "0x7d5011f29b8951942756b7cbc3029c0aa7c8248381b14bb6941f102b2d1e63a7",
        "received_by": "0x678b3c5090B25b3a63120CF0218750886e37A96E",
        "received_at": 1661175493400,
        "organization_id": "1",
        "account_id": "13"
      }
    }
  ],
  "status": "ok",
  "pagination": {
    "next": "eyJyZWNlaXB0LnJlY2VpdmVkX2F0IjoxNjYxMTc1NDkzNDAwfQ==",
    "previous": "eyJyZWNlaXB0LnJlY2VpdmVkX2F0IjoxNjYxMTc1NDkzNTAwfQ==",
    "hasNext": false,
    "size": 3,
    "skip": 0,
    "limit": 30
  }
}
```
{% endswagger-response %}

{% swagger-response status="400: Bad Request" description="Validation error" %}
```json
{
  "status": "error",
  "message": "Validation error"
}
```
{% endswagger-response %}

{% swagger-response status="401: Unauthorized" description="Unauthorized request" %}
```json
{
  "status": "error",
  "message": "Unauthorized"
}
```
{% endswagger-response %}
{% endswagger %}

<details>

<summary>Body schema</summary>

```json
{
    "query":{
        "events":[
            [
                {
                    "field":"data.email",
                    "operator":"equal",
                    "value":"vlad@zimt.co"
                }
            ], 
            []
        ]
    },
   "query_settings":{
      "type":"$and",
      "types": ["$and", "$or"]
   },
   "limit":11,
   "skip":0,
   "sortAscending":false
}
```

</details>

***

## Search events public

{% swagger method="post" path="/events/search/public" baseUrl="https://api.zi.mt" summary="" %}
{% swagger-description %}
<mark style="color:red;">

**AUTHORIZED**

</mark>
{% endswagger-description %}

{% swagger-parameter in="header" name="Authorization" type="Strubg" required="true" %}
JWT token
{% endswagger-parameter %}

{% swagger-parameter in="body" name="query" type="Object" required="true" %}
Event query object
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="Success" %}
```json
{
  "response": [
    {
      "proof": "123",
      "id": "15",
      "object": {
        "meta": {
          "created_by": "0x678b3c5090B25b3a63120CF0218750886e37A96E",
          "created_at": 1661175493500,
          "data_hash": "0x1234"
        },
        "data": {
          "type": "zimt.audit.asset.data.update",
          "asset_id": "13",
          "name": "Info - Asset 13",
          "properties": {
            "prop": "567",
            "tags": [
              "tag3",
              "tag4"
            ]
          }
        },
        "signature": "0xe633051fc76ae..."
      },
      "receipt": {
        "id_hash": "0x7d5011f29b8951942756b7cbc3029c0aa7c8248381b14bb6941f102b2d1e63a7",
        "received_by": "0x678b3c5090B25b3a63120CF0218750886e37A96E",
        "received_at": 1661175493500,
        "organization_id": "1",
        "account_id": "12"
      }
    },
    
  ],
  "status": "ok",
  "pagination": {
    "next": "eyJyZWNlaXB0LnJlY2VpdmVkX2F0IjoxNjYxMTc1NDkzNDAwfQ==",
    "previous": "eyJyZWNlaXB0LnJlY2VpdmVkX2F0IjoxNjYxMTc1NDkzNTAwfQ==",
    "hasNext": false,
    "size": 3,
    "skip": 0,
    "limit": 30
  }
}
```
{% endswagger-response %}

{% swagger-response status="400: Bad Request" description="Validation error" %}
```json
{
  "status": "error",
  "message": "Validation error",
  "errors": "invalid query parameters"
}
```
{% endswagger-response %}

{% swagger-response status="401: Unauthorized" description="Unauthorized request" %}
```json
{
  "status": "error",
  "message": "Unauthorized"
}
```
{% endswagger-response %}
{% endswagger %}

<details>

<summary>Body schema</summary>

```json
{
    "query":{
        "events":[
            [
                {
                    "field":"data.properties.email",
                    "operator":"equal",
                    "value":"vlad@zimt.co"
                }
            ], 
            []
        ]
    },
   "query_settings":{
      "type":"$and",
      "types": ["$and", "$or"]
   },
   "limit":11,
   "skip":0,
   "sortAscending":false
}
```

</details>

***

